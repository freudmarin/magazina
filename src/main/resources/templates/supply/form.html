<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Good Thymes Virtual Grocery</title>
    <script th:inline="javascript" type="text/javascript" th:src="@{/js/core/jquery.min.js}"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
<!--<h1>Add Supply</h1>-->
<form method="post" action="#" th:action="@{/supplies/create}" th:object="${supply}">

    <label>Data</label>
    <input type="date" th:field="*{date}">

    <label>Numri i Faturës</label>
    <input type="number" th:field="*{invoiceNumber}">

    <a href="#" onclick="addUnit()">Shto Njësi</a>

    <table style="border: 1px solid #666; width: 100%;height: 100%">
        <thead>
        <tr>
            <th style="width:30%;border: 1px solid #666;">
                Produkti
            </th>
            <th style="width:30%;border: 1px solid #666">
                Çmimi
            </th>
            <th style="width:40%;border: 1px solid #666">
                Sasia
            </th>
            <th style="width:40%;border: 1px solid #666">
                Konfirmo
            </th>
        </tr>
        </thead>
        <tbody id="supplyUnitObject">

        <tr class="ptu" th:each="ptu, rowStat : *{productTransactionUnits}">
            <td>
                <label>Produkti:</label>
                <select th:field="*{productTransactionUnits[__${rowStat.index}__].product.id}">
                    <option th:each="product : ${products}"
                            th:value="${product.id}"
                            th:utext="${product.name}">
                        Select Product
                    </option>
                </select>
            </td>
            <td>Price: <input type="number" th:field="*{productTransactionUnits[__${rowStat.index}__].price}"/></td>
            <td> Amount: <input type="number" th:field="*{productTransactionUnits[__${rowStat.index}__].amount}"/></td>
            <td>
                <a class="confirm" href="#" th:onclick="|persistUnit(${rowStat.index})|">Tick</a>
                <a class="delete" href="#" th:onclick="|deleteUnit(${rowStat.index})|">Fshi</a>
            </td>
        </tr>

        </tbody>
    </table>
    <input type="submit" name="submit" value="Add" class="btn btn-danger"/>
</form>

<script th:inline="javascript" type="text/javascript" th:src="@{/js/supply/form.js}"></script>

</body>

</html>