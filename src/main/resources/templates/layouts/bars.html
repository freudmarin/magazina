<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">

<body>

<div th:fragment="flash" th:if="${session.flash != null}" class="container">
    <div class="message">
        <i class="right material-icons" data-close="">close</i>
        <div th:text="${session.flash}" class="flash"></div>
    </div>
</div>

<!-- Sidebar -->
<div th:fragment="sidebar">
    <div class="sidebar" data-color="white" data-background-color="red" data-image="/images/sidebar-1.jpg">
        <div class="logo">
            <a href="/" class="simple-text logo-normal">
                Magazina
            </a>
        </div>
        <div class="sidebar-wrapper">
            <ul class="nav">
                <li class="nav-item"
                    th:classappend="${#httpServletRequest.requestURI.length() == 1} ? 'active' : ''">
                    <a class="nav-link" th:href="@{/warehouses}">
                        <i class="material-icons">dashboard</i>
                        <p>Magazinat</p>
                    </a>
                </li>
                <li class="nav-item"
                    th:classappend="${#httpServletRequest.requestURI.contains('categories')} ? 'active' : ''">
                    <a class="nav-link" th:href="@{/categories}">
                        <i class="material-icons">content_paste</i>
                        <p>Kategorite</p>
                    </a>
                </li>
                <li class="nav-item "
                    th:classappend="${#httpServletRequest.requestURI.contains('products')} ? 'active' : ''">
                    <a class="nav-link" th:href="@{/products}">
                        <i class="material-icons">library_books</i>
                        <p>Produktet</p>
                    </a>
                </li>
                <li class="nav-item "
                    th:classappend="${#httpServletRequest.requestURI.contains('supplies')} ? 'active' : ''">
                    <a class="nav-link" th:href="@{/supplies}">
                        <i class="material-icons">bubble_chart</i>
                        <p>Furnizimet</p>
                    </a>
                </li>
                <li class="nav-item "
                    th:classappend="${#httpServletRequest.requestURI.contains('sales')} ? 'active' : ''">
                    <a class="nav-link" th:href="@{/sales}">
                        <i class="material-icons">bubble_chart</i>
                        <p>Shitjet</p>
                    </a>
                </li>
                <li class="nav-item "
                    th:classappend="${#httpServletRequest.requestURI.contains('agents')} ? 'active' : ''">
                    <a class="nav-link" th:href="@{/agents}">
                        <i class="material-icons">person</i>
                        <p>Agjentet</p>
                    </a>
                </li>
            </ul>
        </div>
        <div class="sidebar-background" style="background-image: url('/images/sidebar.jpg')"></div>
    </div>
</div>
<!-- End Sidebar -->

<!-- Navbar -->
<nav th:fragment="navbar" class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
    <div class="container-fluid">
        <div class="navbar-wrapper">

            <a class="navbar-brand" th:if="${#httpServletRequest.requestURI.contains('categories')}"> Categories </a>

            <a class="navbar-brand"> Dashboard </a>
        </div>
        <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end">
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link" href="http://example.com" id="navbarWarehouse" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fas fa-warehouse"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                        <a th:each="warehouse : ${warehouses}"
                           th:href="@{|/warehouses/checkout/${warehouse.id}|}"
                           th:text="${warehouse.name}" class="dropdown-item"
                           th:classappend="${warehouse.name == currentWarehouse.name} ? 'active' : ''"></a>
                    </div>
                </li>
                <!--<li class="nav-item dropdown">-->
                    <!--<a class="nav-link" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">-->
                        <!--<i class="material-icons">notifications</i>-->
                        <!--<span class="notification">5</span>-->
                        <!--<p class="d-lg-none d-md-block">-->
                            <!--Some Actions-->
                        <!--</p>-->
                    <!--</a>-->
                    <!--<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">-->
                        <!--<a class="dropdown-item" href="#">Furnizimi ne Magazinen #02 u krye me sukses</a>-->
                        <!--<a class="dropdown-item" href="#">Klienti #032 krijoi porosi</a>-->
                        <!--<a class="dropdown-item" href="#">Ku ta di une</a>-->
                        <!--<a class="dropdown-item" href="#">Nje njoftim tjeter relevant</a>-->
                    <!--</div>-->
                <!--</li>-->
                <li class="nav-item dropdown">
                    <a class="nav-link" href="#pablo" id="navbarDropdownProfile" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="material-icons">person</i>
                        <p class="d-lg-none d-md-block">
                            Llogaria
                        </p>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownProfile">
                        <a class="dropdown-item" href="#" onclick="void(0)"
                           th:text="${#authentication.principal.username}"></a>
                        <div class="dropdown-divider"></div>
                        <form th:action="@{/logout}" method="post">
                            <button class="dropdown-item" type="submit">Dil</button>
                        </form>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>
<!-- End Navbar -->
</body>
</html>